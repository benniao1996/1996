# 一、什么是包转发率

对于网络设备而言，除了吞吐量这个重要指标以外，报文转发率，也就是常说的包转发率是衡量网络设备性能的另一个主要指标。包转发率一般是指以64字节数据包的全双工吞吐量，该指标既包括吞吐量指标也涵盖了报文转发率指标。

包转发率的含义是每秒钟内所转发的数据包的个数，单位为pps，即packet per second。
这里的数据包packet和字节byte有个对应关系，即1packet=64byte。为什么是64呢，这是对包的定义，网络中1个数据包最小包含64字节，这64个字节指的是单纯的数据。当然数据包在网络中的传输不是仅仅裸传数据包，还要给每个数据包加上8byte的帧头和12byte的帧间隙，因此每传输一个数据包就需要传输64+8+12共84byte。

下面以一个1000Mbps的线速端口计算一下其最大包转发率。
1000Mbps=1,000,000,000bps/（84*8bit）≈1,488,095pps=1.488Mpps

按照此算法以此类推，可以得出以下常用线速端口的包转发率：

万兆线速端口包转发率14.88Mpps

千兆线速端口包转发率1.488Mpps

百兆线速端口包转发率0.1488Mpps

```yaml
Bps: Byte per second 每秒传输多少字节,下载速度通常用这个表示

bps: bits per second 每秒传输多少位 ,这个也叫做端口速率

pps:packet per second 每秒传输多少个packet

计算机中1个字节占8位,所以Bps到bps的转换可以为:
bps=8*Bps

而pps又该怎么计算呢:

包转发率肯定得从捕获到包开始算起:
而离不开速率,速率又与长度有关,因为每个包长度不一定,所以我们求最大值,最大值也就意味着要用最小的包来计算,以以太网为例,以太网最小64字节(6+6+2+4+46),每个包又会有6字节的前导字符和12字节的帧间间隙,所以每个包最小84字节
也就意味着当Bps为10000时,bps为10000*8,pps为10000/84
所以三者之间知其一就能知道剩余的
bps=Bps*8
pps=Bps/84 //这求的是最大pps


以太网传输最小包长是64字节。包转发线速的衡量标准是以单位时间内发送64byte的数据包（最小包）的个数作为计算基准的。
对于千兆以太网来说，计算方法如下：
1000Mbps/((64B+8B+12B)×8bit)=1.488095pps


以下是常用以太网端口的包转发率：

1、万兆以太网：14.88Mpps
2、千兆以太网：1.488Mpps
3、百兆以太网：0.1488Mpps
```
参考资料：

https://blog.csdn.net/Coder_Joker/article/details/85617034

https://www.jianshu.com/p/d04f26f78151

https://www.cnblogs.com/wumj/p/9675780.html  什么是包转发率
